<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <!-- Bing Validate -->
    <meta name="msvalidate.01" content="846642D2B12ABB4747D70776D2056651"/>
    <!-- Google Webmaster Validate -->
    <meta name="google-site-verification" content="uUeOdHBzl0nbyvdyeRHKGIHPxnIpJDTTnWv-QfgkxRs" />
    <!-- FB OG -->
    <meta property="og:title" content="Midtrans Payments || Tech Docs for online payment system"/>
    <meta property="og:site_name" content="Midtrans"/>
    <meta property="og:description" content="Technical Documentation to implement online payment system. Available for various payment methods, in various website programming language."/>
    <meta property="fb:app_id" content="404252079606310"/>
    <meta property="og:image" content="//docs.midtrans.com/images/midtrans/favicon/apple-touch-icon-120x120.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Veritrans API Documentation. Payment Gateway Indonesia, transaksi online lebih aman, mudah, cepat! Veritrans memberi solusi sistem payment gateway terbaik untuk e-commerce di Indonesia.">
    <meta name="keywords" content="Veritrans, Veritrans Indonesia, payment gateway indonesia, Pembayaran Online Indonesia, online payment Indonesia, sistem transaksi online"> 
    <meta name="google-site-verification" content="uUeOdHBzl0nbyvdyeRHKGIHPxnIpJDTTnWv-QfgkxRs" />
    <meta name="msvalidate.01" content="846642D2B12ABB4747D70776D2056651">
    
    <link href="../../stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="../../stylesheets/materialize.css" media="screen" rel="stylesheet" type="text/css" />
    
    <title>Midtrans Payments - Tech Docs for online payment system</title>
    <link rel="apple-touch-icon" sizes="57x57" href="/images/midtrans/favicon/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/midtrans/favicon/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/midtrans/favicon/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/midtrans/favicon/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/midtrans/favicon/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/midtrans/favicon/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/midtrans/favicon/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/midtrans/favicon/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/midtrans/favicon/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/midtrans/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/images/midtrans/favicon/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/midtrans/favicon/favicon-16x16.png">
    <link rel="shortcut icon" href="https://midtrans.com/assets/images/favicon.ico">
    <script src="../../javascripts/jquery-1.10.2.min.js" type="text/javascript"></script>
    <script src="../../javascripts/materialize.min.js" type="text/javascript"></script>

    <!-- start Mixpanel -->
    <script type="text/javascript">(function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
        for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
        mixpanel.init("f93e9c92cf8729b32c4491fb6794689b");
    </script>
    <!-- end mixpanel -->
    
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <header class="md-header position-fixed-top header-white affix">
  <div class="container position-static">
    <div class="row position-static">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 position-static">
        <a class="logo-midtrans" href="https://midtrans.com/">Midtrans</a>
        <div id="nav-toggle" class="collapsed" data-toggle="collapse" data-target="#main-nav" aria-expanded="false">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <div class="nav-wrapper collapse" id="main-nav" aria-expanded="false">
          <div class="inner-wrapper">
            <ul class="mobile-nav">
              <li><span class="nav-title">SERVICES</span></li>
              <li>
                <a href="https://midtrans.com/payments">
                  <img class="logo-image" src="../../images/midtrans/logo-midtrans-white.png" alt="midtrans"/>
                </a>
              </li>
              <li>
                <a href="https://midtrans.com/aegis">
                  <img class="logo-image" src="../../images/midtrans/logo-aegis-white.png" alt="aegis"/>
                </a>
              </li>
              <li>
                <a href="https://midtrans.com/iris">
                  <img class="logo-image" src="../../images/midtrans/logo-iris-white.png" alt="iris"/>
                </a>
              </li>
              <li><span class="nav-space"></span></li>
              <li class="half"><a href="https://midtrans.com/payments/pricing">Pricing</a></li>
              <li class="half"><a href="https://midtrans.com/contact">Contact Us</a></li>
              <li class="half"><a href="https://midtrans.com/developers">Documentation</a></li>
              <li class="half"><a href="https://midtrans.com/developers">FAQ</a></li>
              <li class="half"><a href="https://support.midtrans.com/hc/en-us">Clients</a></li>
              <li><span class="nav-space" /></li>
              <li>
                <a class="login" href="https://account.midtrans.com/login" target="_blank" rel="noopener noreferrer">login</a>
              </li>
              <li>
                <a class="signup" href="https://midtrans.com/tentang-passport" target="_blank" rel="noopener noreferrer">
                  SIGN UP
                </a>
              </li>
            </ul>
          </div>
        </div>
        <ul class="md-nav">
          <li class="dropdown">
            <a>
              Our Services
              <span class="fa fa-angle-down"></span>
            </a>
            <div class="dropdown-menu md-dd-nav">
              <div class="container">
                <div class="row">
                  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="row">
                      <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                        <div class="submenu-description">
                          <h3>Services</h3>
                          <p>Midtrans menyediakan beragam solusi untuk bisnis online Anda.</p>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                        <div class="submenu-link">
                          <a class="summary" href="https://midtrans.com/payments">
                            <img class="image" src="../../images/midtrans/logo-midtrans-color.png" alt="">
                            <p>Sistem pembayaran online yang terhubung dengan berbagai metode pembayaran di Indonesia.</p>
                          </a>
                          <a class="link" href="https://midtrans.com/payments">Selengkapnya &rarr;</a>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                        <div class="submenu-link">
                          <a class="summary" href="https://midtrans.com/aegis">
                            <img class="image" src="../../images/midtrans/logo-aegis.png" alt="">
                            <p>Sistem deteksi fraud untuk menganalisis dan mencegah penipuan di eCommerce Anda.</p>
                          </a>
                          <a class="link" href="https://midtrans.com/aegis">Selengkapnya &rarr;</a>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                        <div class="submenu-link">
                          <a class="summary" href="https://midtrans.com/iris">
                            <img class="image" src="../../images/midtrans/logo-iris.png" alt="">
                            <p>Sistem distribusi pembayaran untuk kemudahan pengiriman dana ke semua bank di Indonesia.</p>
                          </a>
                          <a class="link" href="https://midtrans.com/iris">Selengkapnya &rarr;</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="dropdown">
            <a>
              Getting Started
              <span class="fa fa-angle-down"></span>
            </a>
            <div class="dropdown-menu md-dd-nav">
              <div class="container">
                <div class="row">
                  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="row">
                      <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                        <div class="submenu-description">
                          <h3>Getting Started</h3>
                          <p>Berbagai informasi yang dibutuhkan untuk terhubung dengan layanan Midtrans.</p>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                        <div class="submenu-link">
                          <a class="summary" href="https://midtrans.com/pricing">
                            <h4>Pricing</h4>
                            <p>Informasi tentang harga dari berbagai layanan Midtrans.</p>
                          </a>
                          <a class="link" href="https://midtrans.com/payments/pricing">Selengkapnya &rarr;</a>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                        <div class="submenu-link">
                          <a class="summary" href="https://midtrans.com/developers">
                            <h4>Documentation</h4>
                            <p>Dokumentasi teknis yang terbuka dari berbagai layanan Midtrans.</p>
                          </a>
                          <a class="link" href="https://midtrans.com/developers">Selengkapnya &rarr;</a>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                        <div class="submenu-link">
                          <a class="summary" href="https://midtrans.com/clients">
                            <h4>Clients</h4>
                            <p>Kisah sukses berbagai bisnis online yang terhubung dengan Midtrans.</p>
                          </a>
                          <a class="link" href="https://midtrans.com/clients">Selengkapnya &rarr;</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li class="dropdown">
            <a>
              Support
              <span class="fa fa-angle-down"></span>
            </a>
            <div class="dropdown-menu md-dd-nav">
              <div class="container">
                <div class="row">
                  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <div class="row">
                      <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                        <div class="submenu-description">
                          <h3>Support</h3>
                          <p>Bantuan teknis dari tim Midtrans untuk memudahkan proses integrasi Anda.</p>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                        <div class="submenu-link">
                          <a class="summary" href="https://midtrans.com/pricing">
                            <h4>Contact Us</h4>
                            <p>Hubungi tim support Midtrans untuk pertanyaan lebih lanjut.</p>
                          </a>
                          <a class="link" href="https://midtrans.com/contact">Selengkapnya &rarr;</a>
                        </div>
                      </div>
                      <div class="col-xs-12 col-sm-4 col-md-3 col-lg-3">
                        <div class="submenu-link">
                          <a class="summary" href="https://midtrans.com/developers">
                            <h4>FAQ</h4>
                            <p>Informasi penting mengenai layanan dan proses integrasi dengan Midtrans.</p>
                          </a>
                          <a class="link" href="https://support.midtrans.com/hc/en-us">Selengkapnya &rarr;</a>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
          <li>
            <a class="login" href="https://account.midtrans.com/login" target="_blank" rel="noopener noreferrer">
              login
            </a>
          </li>
          <li>
            <a class="signup" href="https://midtrans.com/tentang-passport" target="_blank" rel="noopener noreferrer">
              SIGN UP
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</header>
<div class="nav-overlay"></div>

    <div class="custom-container container">
      <div class="row row-offcanvas row-offcanvas-right">
        <div class="col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas" id="sidebar" role="navigation">
  <div class="documentation-sidebar affix">
    <div class="docs-logo">
      <span>DOCS</span>
    </div>
    <div class="language-toggle"> <a href="../../en/core_api/integration_card_basic.html">English</a> / Bahasa Indonesia</div>
    <div class="sidebar-search">
      <form>
        <input type="search" name="q" id="search-field" placeholder="Pencarian">
      </form>
    </div>
    <ul class="sidebar">
      
        <li>
          
            <a class="parent">Langkah Awal</a>
            <b class="caret"></b>
            <ul class="child-menu">
              
                <li class=""><a href="../welcome/index.html">Perkenalan</a></li>
              
                <li class=""><a href="../welcome/preparation.html">Persiapan Awal</a></li>
              
                <li class=""><a href="../welcome/pluginlibrary.html">Library & Plugin</a></li>
              
                <li class=""><a href="../welcome/partner_integ.html">Platform Affiliasi</a></li>
              
            </ul>
          
        </li>
      
        <li>
          
            <a class="parent">SNAP</a>
            <b class="caret"></b>
            <ul class="child-menu">
              
                <li class=""><a href="../snap/integration.html">Integrasi</a></li>
              
                <li class=""><a href="../snap/other_features.html">Fitur Tambahan</a></li>
              
                <li class=""><a href="../snap/going_live.html">Going Live</a></li>
              
                <li class=""><a href="http://snap-docs.midtrans.com">Snap API</a></li>
              
            </ul>
          
        </li>
      
        <li>
          
            <a class="parent" href="https://mobile-docs.midtrans.com">Mobile SDK</a>
          
        </li>
      
        <li>
          
            <a class="parent" href="../payment_link/index.html">Payment Link</a>
          
        </li>
      
        <li>
          
            <a class="parent">Core API</a>
            <b class="caret"></b>
            <ul class="child-menu">
              
                <li class="active"><a href="integration_card_basic.html">Integrasi Pembayaran Kartu</a></li>
              
                <li class=""><a href="integration_gopay.html">Integrasi GoPay</a></li>
              
                <li class=""><a href="integration_bank_transfer.html">Integrasi Transfer Bank</a></li>
              
                <li class=""><a href="integration_direct_debit.html">Integrasi Direct Debit</a></li>
              
                <li class=""><a href="https://api-docs.midtrans.com">Channel Pembayaran Lain</a></li>
              
                <li class=""><a href="https://api-docs.midtrans.com">Core API Docs</a></li>
              
            </ul>
          
        </li>
      
        <li>
          
            <a class="parent">Referensi</a>
            <b class="caret"></b>
            <ul class="child-menu">
              
                <li class=""><a href="../reference/test.html">Testing Credential</a></li>
              
                <li class=""><a href="../reference/address.html">Alamat IP</a></li>
              
                <li class=""><a href="../reference/security.html">Keamanan</a></li>
              
                <li class=""><a href="https://status.midtrans.com">Status Sistem</a></li>
              
                <li class=""><a href="../reference/docslog.html">Log Dokumentasi</a></li>
              
                <li class=""><a href="https://support.midtrans.com">FAQ</a></li>
              
            </ul>
          
        </li>
      
    </ul>
    <p class="question">
      Anda merasa ada yang kurang dari dokumentasi ini?<br>
      <a href="https://github.com/veritrans/veritrans.github.io">Buka issue atau ikut berkontribusi di Github</a>
    </p>
  </div>
</div><!--/span-->
        <div class="col-xs-12 col-sm-8 col-md-9" id="bodier">
          <p class="pull-right visible-xs">
            <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Menu</button>
          </p>
          <div class="id-core-api-integration-card-basic">
            <h2 id="integrasi-pembayaran-kartu">Integrasi Pembayaran Kartu</h2>

<p>Proses integrasi dasar untuk pembayaran kartu akan dijelaskan di bawah.</p>

<h3 id="environment-sandbox">Environment Sandbox</h3>
<p>Semua langkah di bawah menggunakan <strong>Sandbox</strong> environment Midtrans, bukan Production, untuk memudahkan testing proses integrasi. Pastikan Anda sudah mengubah ke mode Sandbox pada <a href="https://account.midtrans.com">dashboard akun Midtrans</a> Anda saat mendapatkan Server Key dan Client Key. Dijelaskan pada <a href="../welcome/preparation.html#step3">Langkah Awal - Persiapan</a></p>

<p>Server Key dan Client Key bisa didapatkan pada menu <code>Settings &gt; Access Keys</code></p>

<h3 id="testing-pembayaran">Testing Pembayaran</h3>
<p>Untuk mengetest transaksi sebagai customer, silahkan gunakan <a href="../reference/test.html">kredensial testing di sini</a>. Contoh, kartu untuk skenario sukses:</p>

<pre><code class="highlight plaintext">Card Number: 4811 1111 1111 1114 
CVV: 123 
Expiry: &lt;tanggal berapapun di masa depan&gt;
</code></pre>

<h3 id="diagram">Diagram</h3>
<p>Gambaran dari flow transaksi dalam sequence diagaram:</p>

<p><img alt="flow transaksi kartu" class="img-responsive img-thumbnail" src="../../images/core_api/card_transaction_3ds.png" />
.
<br /><br /></p>

<h2 id="langkah-integrasi">Langkah Integrasi</h2>
<ol>
  <li>Dapatkan token kartu, melalui frontend.</li>
  <li>Kirim data traksaksi ke API Charge dengan token kartu, melalui backend.</li>
  <li>(Kondisional) jika transaksi 3DS, buka redirect_url 3DS dengan popup/redirect, melalui frontend.</li>
  <li>Terima notifikasi transaksi, pada backend.
<br /><br /></li>
</ol>

<h2 id="dapatkan-token-kartu">1. Dapatkan Token Kartu</h2>
<p><code>token_id</code> kartu adalah representasi dari data kartu customer, yang akan digunakan untuk transaksi. <code>token_id</code> didapatkan menggunakan <a href="https://api.midtrans.com/v2/assets/js/midtrans-new-3ds.min.js">Library JS MidtransNew3ds</a> pada frontend website merchant, data kartu akan dikirimkan dengan aman dari javascript frontend ke API Midtrans untuk ditukar dengan <code>token_id</code> kartu, untuk menghindari risiko jika data kartu dikirim dari backend merchant.</p>

<h3 id="gunakan-midtrans-js">Gunakan Midtrans JS</h3>
<p><strong>Client Key</strong> (dari <a href="https://account.midtrans.com">Dashboard</a>) diperlukan untuk tahap ini. Gunakan JS library Midtrans pada halaman pembayaran, dengan menambahkan script tag:</p>

<pre><code class="highlight html"><span class="nt">&lt;script </span><span class="na">id=</span><span class="s">"midtrans-script"</span> <span class="na">type=</span><span class="s">"text/javascript"</span>
<span class="na">src=</span><span class="s">"https://api.midtrans.com/v2/assets/js/midtrans-new-3ds.min.js"</span> 
<span class="na">data-environment=</span><span class="s">"sandbox"</span> 
<span class="na">data-client-key=</span><span class="s">"&lt;MASUKKAN CLIENT KEY ANDA DISINI&gt;"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>

<p><strong>Penting</strong>: Ganti attribute berikut.</p>

<table>
  <thead>
    <tr>
      <th>Attribute</th>
      <th>Nilai</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>data-environment</code></td>
      <td>Masukkan <code>sandbox</code> atau <code>production</code> (API environment)</td>
    </tr>
    <tr>
      <td><code>data-client-key</code></td>
      <td>Masukkan <strong>client key</strong> dari <a href="https://account.midtrans.com">Dashboard akun</a> Anda.</td>
    </tr>
  </tbody>
</table>

<p>Tautan: <a href="https://api-docs.midtrans.com/#get-token"><em>Definisi lebih detail</em></a></p>

<h3 id="implementasi-js-untuk-mendapatkan-token-kartu">Implementasi JS Untuk Mendapatkan Token Kartu</h3>
<p>Untuk mendapatkan <code>token_id</code> kartu, kita akan menggunakan function <code>MidtransNew3ds.getCardToken</code>. Implementasikan Javascript berikut pada halaman pembayaran.</p>

<pre><code class="highlight javascript"><span class="c1">// data kartu dari input customer, contohnya</span>
<span class="kd">var</span> <span class="nx">cardData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">"card_number"</span><span class="p">:</span> <span class="mi">4811111111111114</span><span class="p">,</span>
  <span class="s2">"card_exp_month"</span><span class="p">:</span> <span class="mi">02</span><span class="p">,</span>
  <span class="s2">"card_exp_year"</span><span class="p">:</span> <span class="mi">2025</span><span class="p">,</span>
  <span class="s2">"card_cvv"</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// callback functions</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">onSuccess</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
    <span class="c1">// Sukses mendapatkan token_id kartu, implementasi sesuai kebutuhan</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Success to get card token_id, response:'</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">token_id</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">token_id</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'This is the card token_id:'</span><span class="p">,</span> <span class="nx">token_id</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">onFailure</span><span class="err">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
    <span class="c1">// Gagal mendapatkan token_id kartu, implementasi sesuai kebutuhan</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Fail to get card token_id, response:'</span><span class="p">,</span> <span class="nx">response</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// panggil function `getCardToken`</span>
<span class="nx">MidtransNew3ds</span><span class="p">.</span><span class="nx">getCardToken</span><span class="p">(</span><span class="nx">cardData</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
</code></pre>
<p>Jika semua lancar, kita akan mendapatkan <code>token_id</code> kartu di dalam callback function <code>onSuccess</code>. Yang akan digunakan sebagai salah satu parameter JSON untuk request API <code>/charge</code>.</p>

<p><code>token_id</code> akan butuh untuk dikirimkan dari frontend ke backend pada tahap selanjutnya, bisa dilakukan menggunakan Ajax (dengan javascript) atau form HTML (dengan HTTP POST), dsb. Merchant bebas mengimplementasikan.</p>

<blockquote>
  <p><strong>Catatan:</strong> <code>token_id</code> ini hanya valid untuk 1 transaksi. Setiap transaksi diharuskan melalui proses ini lagi, untuk membantu memastikan data kartu dikirimkan dengan aman. Jika Anda ingin untuk menyimpan token kartu, Anda bisa gunakan fitur <a href="https://api-docs.midtrans.com/#card-features-one-click">One-click</a>/<a href="https://api-docs.midtrans.com/#card-features-two-clicks">Two-clicks</a>.</p>
</blockquote>

<p><br /><br /></p>

<h2 id="kirim-data-transaksi-ke-api-charge">2. Kirim Data Transaksi ke API Charge</h2>

<p>Request API charge akan dilakukan melalui backend Merchant. <strong>Server Key</strong> (dari <a href="https://account.midtrans.com">Dashboard</a> dashboard Anda) akan dibutuhkan untuk <a href="https://api-docs.midtrans.com/#http-s-header">meng-otentikasi request</a>.</p>

<h3 id="request-charge-api">Request Charge API</h3>
<p>Berikut contoh dari request API <code>/charge</code> dalam Curl, silahkan implementasikan sesuai bahasa pemrograman backend Anda (Anda juga bisa cek <a href="../welcome/pluginlibrary.html">library-library</a> pemrograman yang tersedia). Gunakan <code>token_id</code> yang didapat sebelumnya.</p>

<pre><code class="highlight shell"><span class="c"># contoh charge dalam CURL</span>
curl -X POST <span class="se">\</span>
  https://api.sandbox.midtrans.com/v2/charge <span class="se">\</span>
  -H <span class="s1">'Accept: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'Authorization: Basic &lt;SERVER KEY ANDA ENCODED dalam Base64&gt;'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -d <span class="s1">'{
  "payment_type": "credit_card",
  "transaction_details": {
    "order_id": "order102",
    "gross_amount": 789000
  },
  "credit_card": {
    "token_id": "&lt;token_id yang didapat dari langkah sebelumnya&gt;",
    "authentication": true,
  }
}'</span>
</code></pre>

<p>Opsional: kita bisa kustomisasi object <code>credit_card</code> untuk <a href="https://api-docs.midtrans.com/#credit-card">fitur-fitur yg lebih kompleks</a>. Contohnya:</p>

<pre><code class="highlight javascript"><span class="p">...</span>
  <span class="s2">"credit_card"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"token_id"</span><span class="err">:</span> <span class="s2">"&lt;token_id yang didapat dari langkah sebelumnya&gt;"</span><span class="p">,</span>
    <span class="s2">"authentication"</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//set true untuk 3DS, false jika punya acquiring non 3DS</span>
    <span class="s2">"save_token_id"</span><span class="err">:</span> <span class="kc">true</span> <span class="c1">//opsional, untuk fitur one/two click</span>
    <span class="s2">"installment_term"</span><span class="err">:</span> <span class="mi">12</span><span class="p">,</span> <span class="c1">//opsional, untuk fitur installment</span>
    <span class="s2">"bank"</span><span class="err">:</span> <span class="s2">"bca"</span><span class="p">,</span> <span class="c1">//opsional, untuk spesifik bank acquiring</span>
  <span class="p">}</span>
<span class="p">...</span>
</code></pre>

<p>Opsional: kita bisa kustomisasi <a href="https://api-docs.midtrans.com/#json-object">data transaction_details</a>. Untuk menyertakan data seperti customer_details, item_details, dsb. Disarankan untuk mengirim data sebanyak mungkin agar nantinya report/dashboard menampilkan informasi tersebut.</p>

<h3 id="response-charge-api">Response Charge API</h3>
<p>Kita akan mendapat <strong>response API</strong> seperti ini.</p>

<pre><code class="highlight json"><span class="p">{</span>
  <span class="s2">"status_code"</span><span class="p">:</span> <span class="s2">"201"</span><span class="p">,</span>
  <span class="s2">"status_message"</span><span class="p">:</span> <span class="s2">"Success, Credit Card transaction is successful"</span><span class="p">,</span>
  <span class="s2">"transaction_id"</span><span class="p">:</span> <span class="s2">"0bb563a9-ebea-41f7-ae9f-d99ec5f9700a"</span><span class="p">,</span>
  <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"order102"</span><span class="p">,</span>
  <span class="s2">"redirect_url"</span><span class="p">:</span> <span class="s2">"https://api.sandbox.veritrans.co.id/v2/token/rba/redirect/481111-1114-0bb563a9-ebea-41f7-ae9f-d99ec5f9700a"</span><span class="p">,</span>
  <span class="s2">"gross_amount"</span><span class="p">:</span> <span class="s2">"789000.00"</span><span class="p">,</span>
  <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"IDR"</span><span class="p">,</span>
  <span class="s2">"payment_type"</span><span class="p">:</span> <span class="s2">"credit_card"</span><span class="p">,</span>
  <span class="s2">"transaction_time"</span><span class="p">:</span> <span class="s2">"2019-08-27 15:50:54"</span><span class="p">,</span>
  <span class="s2">"transaction_status"</span><span class="p">:</span> <span class="s2">"pending"</span><span class="p">,</span>
  <span class="s2">"fraud_status"</span><span class="p">:</span> <span class="s2">"accept"</span><span class="p">,</span>
  <span class="s2">"masked_card"</span><span class="p">:</span> <span class="s2">"481111-1114"</span><span class="p">,</span>
  <span class="s2">"bank"</span><span class="p">:</span> <span class="s2">"bni"</span><span class="p">,</span>
  <span class="s2">"card_type"</span><span class="p">:</span> <span class="s2">"credit"</span>
<span class="p">}</span>
</code></pre>

<ul>
  <li>
    <p>Jika <code>transaction_status</code> adalah <code>capture</code> dan <code>fraud_status</code> adalah <code>accept</code>, artinya transaksinya tidak butuh 3DS, dan sekarang sudah selesai dengan sukses.</p>
  </li>
  <li>
    <p>Jika <code>transaction_status</code> adalah <code>pending</code> dan terdapat <code>redirect_url</code>, artinya transaksinya membutuhkan 3DS, dan akan butuh untuk dilanjutkan ke tahap selanjutnya, membuka halaman 3DS authentication.
<br /><br /></p>
  </li>
</ul>

<h2 id="buka-halaman-3ds-authentication">3. Buka Halaman 3DS Authentication</h2>

<p>Dari response API, sekarang kita punya <code>redirect_url</code>. Untuk dibuka (ditampilkan ke customer) menggunakan <a href="https://api.midtrans.com/v2/assets/js/midtrans-new-3ds.min.js">library JS MidtransNew3ds</a> pada frontend website merchant.</p>

<p>Untuk membuka halaman 3DS kita bisa gunakan function <code>MidtransNew3ds.authenticate</code> atau <code>MidtransNew3ds.redirect</code>. Masukkan <code>redirect_url</code> yang didapatkan sebelumnya.</p>

<h3 id="implementasi-js-untuk-buka-halaman-3ds-authenticate">Implementasi JS Untuk Buka Halaman 3DS Authenticate</h3>

<pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">redirect_url</span> <span class="o">=</span> <span class="s1">'&lt;redirect_url didapatkan dari response Charge&gt;'</span><span class="p">;</span>

<span class="c1">// callback functions</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">performAuthentication</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">redirect_url</span><span class="p">){</span>
    <span class="c1">// Implementasikan bagaimana anda akan membuka iframe untuk menampilkan redirect_url 3DS authentication ke customer</span>
    <span class="nx">popupModal</span><span class="p">.</span><span class="nx">openPopup</span><span class="p">(</span><span class="nx">redirect_url</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">onSuccess</span><span class="err">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
    <span class="c1">// 3ds authentication sukses, implementasikan skenario sukses</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'response:'</span><span class="p">,</span><span class="nx">response</span><span class="p">);</span>
    <span class="nx">popupModal</span><span class="p">.</span><span class="nx">closePopup</span><span class="p">();</span>
  <span class="p">},</span>
  <span class="nx">onFailure</span><span class="err">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
    <span class="c1">// 3ds authentication gagal, implementasikan skenario gagal</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'response:'</span><span class="p">,</span><span class="nx">response</span><span class="p">);</span>
    <span class="nx">popupModal</span><span class="p">.</span><span class="nx">closePopup</span><span class="p">();</span>
  <span class="p">},</span>
  <span class="nx">onPending</span><span class="err">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
    <span class="c1">// transaksi pending, hasil transaksi akan dikirimkan nanti melalui POST notification, implementasikan sesuai kebutuhan</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'response:'</span><span class="p">,</span><span class="nx">response</span><span class="p">);</span>
    <span class="nx">popupModal</span><span class="p">.</span><span class="nx">closePopup</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// panggil function `authenticate`</span>
<span class="nx">MidtransNew3ds</span><span class="p">.</span><span class="nx">authenticate</span><span class="p">(</span><span class="nx">redirect_url</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>



<span class="cm">/**
 * Contoh helper function untuk membuka Iframe popup, Anda bisa ubah implementasi dengan metode anda sendiri.
 * Contoh menggunakan library PicoModal:
 * &lt;script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/picomodal/3.0.0/picoModal.js"&gt;&lt;/script&gt;
 */</span>
<span class="kd">var</span> <span class="nx">popupModal</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="kd">var</span> <span class="nx">modal</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">openPopup</span><span class="p">(</span><span class="nx">url</span><span class="p">){</span>
      <span class="nx">modal</span> <span class="o">=</span> <span class="nx">picoModal</span><span class="p">({</span>
        <span class="na">content</span><span class="p">:</span><span class="s1">'&lt;iframe frameborder="0" style="height:90vh; width:100%;" src="'</span><span class="o">+</span><span class="nx">url</span><span class="o">+</span><span class="s1">'"&gt;&lt;/iframe&gt;'</span><span class="p">,</span>
        <span class="na">width</span><span class="p">:</span> <span class="s2">"75%"</span><span class="p">,</span> 
        <span class="na">closeButton</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> 
        <span class="na">overlayClose</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="na">escCloses</span><span class="p">:</span> <span class="kc">false</span>
      <span class="p">}).</span><span class="nx">show</span><span class="p">();</span>
    <span class="p">},</span>
    <span class="nx">closePopup</span><span class="p">(){</span>
      <span class="k">try</span><span class="p">{</span>
        <span class="nx">modal</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
      <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}());</span>

<span class="cm">/**
 * Atau alternatifnya, anda bisa redirect customer dengan: 
 * MidtransNew3ds.redirect(redirect_url, { callbackUrl : 'https://mywebsite.com/finish_3ds' });
 **/</span>
</code></pre>

<h3 id="json-response-3ds-authenticate">JSON Response 3DS Authenticate</h3>
<p>Pada callback function JS, kita akan mendapatkan JSON dari hasil transaksi seperi berikut.</p>

<pre><code class="highlight json"><span class="p">{</span>
  <span class="s2">"status_code"</span><span class="p">:</span> <span class="s2">"200"</span><span class="p">,</span>
  <span class="s2">"status_message"</span><span class="p">:</span> <span class="s2">"Success, Credit Card transaction is successful"</span><span class="p">,</span>
  <span class="s2">"transaction_id"</span><span class="p">:</span> <span class="s2">"226ba26f-b050-4fc5-aa25-b7f8169bc67b"</span><span class="p">,</span>
  <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"order102"</span><span class="p">,</span>
  <span class="s2">"gross_amount"</span><span class="p">:</span> <span class="s2">"789000.00"</span><span class="p">,</span>
  <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"IDR"</span><span class="p">,</span>
  <span class="s2">"payment_type"</span><span class="p">:</span> <span class="s2">"credit_card"</span><span class="p">,</span>
  <span class="s2">"transaction_time"</span><span class="p">:</span> <span class="s2">"2019-08-27 17:22:08"</span><span class="p">,</span>
  <span class="s2">"transaction_status"</span><span class="p">:</span> <span class="s2">"capture"</span><span class="p">,</span>
  <span class="s2">"fraud_status"</span><span class="p">:</span> <span class="s2">"accept"</span><span class="p">,</span>
  <span class="s2">"approval_code"</span><span class="p">:</span> <span class="s2">"1566901334936"</span><span class="p">,</span>
  <span class="s2">"eci"</span><span class="p">:</span> <span class="s2">"05"</span><span class="p">,</span>
  <span class="s2">"masked_card"</span><span class="p">:</span> <span class="s2">"481111-1114"</span><span class="p">,</span>
  <span class="s2">"bank"</span><span class="p">:</span> <span class="s2">"bni"</span><span class="p">,</span>
  <span class="s2">"card_type"</span><span class="p">:</span> <span class="s2">"credit"</span><span class="p">,</span>
  <span class="s2">"channel_response_code"</span><span class="p">:</span> <span class="s2">"00"</span><span class="p">,</span>
  <span class="s2">"channel_response_message"</span><span class="p">:</span> <span class="s2">"Approved"</span>
<span class="p">}</span>
</code></pre>

<p>Jika <code>transaction_status</code> adalah <code>capture</code> dan <code>fraud_status</code> adalah <code>accept</code>, berarti transaksinya sukses, dan sudah selesai.</p>

<blockquote>
  <p><strong>CATATAN PENTING:</strong> Untuk update status transaksi di backend/database Anda, JANGAN hanya mengandalkan callback dari frontend! Untuk alasan keamanan, dengan memastikan status transaksi berasal dari Midtrans, sebaiknya gunakan HTTP Notification atau <a href="https://api-docs.midtrans.com/#get-transaction-status">API Get Status</a> untuk update status transaksi.</p>
</blockquote>

<p><br /><br /></p>

<h2 id="terima-http-notification">4. Terima HTTP Notification</h2>

<p>HTTP notification dari Midtrans ke backend Merchant akan dikirimkan pada saat terjadi perubahan <code>transaction_status</code>, untuk memastikan Mercahant mendapat informasi secara aman. Termasuk pada saat status transaksi berubah jadi success atau denied. Jadi selain JSON pada callback di atas, Merchant juga akan menerima notifikasi dari Midtrans.</p>

<p>Request HTTP POST dengan body JSON akan dikirimkan ke <strong>notification url</strong> Merchant yang dikonfigurasi pada <a href="https://account.midtrans.com">dashboard</a> (Settings &gt; Configuration &gt; Notification URL), berikut contoh body JSON yang akan diterima Merchant:</p>

<pre><code class="highlight json"><span class="p">{</span>
  <span class="s2">"transaction_time"</span><span class="p">:</span> <span class="s2">"2019-08-27 17:22:08"</span><span class="p">,</span>
  <span class="s2">"transaction_status"</span><span class="p">:</span> <span class="s2">"capture"</span><span class="p">,</span>
  <span class="s2">"transaction_id"</span><span class="p">:</span> <span class="s2">"226ba26f-b050-4fc5-aa25-b7f8169bc67b"</span><span class="p">,</span>
  <span class="s2">"status_message"</span><span class="p">:</span> <span class="s2">"midtrans payment notification"</span><span class="p">,</span>
  <span class="s2">"status_code"</span><span class="p">:</span> <span class="s2">"200"</span><span class="p">,</span>
  <span class="s2">"signature_key"</span><span class="p">:</span> <span class="s2">"9b67a07a82d592bc493f3b775eaae5b1862a8bbaa051cdd31a0a81566c84f2c4d306fe2712c86f8167c4faa594a0e2cbe6ae898491bfaebaf849681ae92264d5"</span><span class="p">,</span>
  <span class="s2">"payment_type"</span><span class="p">:</span> <span class="s2">"credit_card"</span><span class="p">,</span>
  <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"order102"</span><span class="p">,</span>
  <span class="s2">"masked_card"</span><span class="p">:</span> <span class="s2">"481111-1114"</span><span class="p">,</span>
  <span class="s2">"gross_amount"</span><span class="p">:</span> <span class="s2">"789000.00"</span><span class="p">,</span>
  <span class="s2">"fraud_status"</span><span class="p">:</span> <span class="s2">"accept"</span><span class="p">,</span>
  <span class="s2">"eci"</span><span class="p">:</span> <span class="s2">"05"</span><span class="p">,</span>
  <span class="s2">"currency"</span><span class="p">:</span> <span class="s2">"IDR"</span><span class="p">,</span>
  <span class="s2">"channel_response_message"</span><span class="p">:</span> <span class="s2">"Approved"</span><span class="p">,</span>
  <span class="s2">"channel_response_code"</span><span class="p">:</span> <span class="s2">"00"</span><span class="p">,</span>
  <span class="s2">"card_type"</span><span class="p">:</span> <span class="s2">"credit"</span><span class="p">,</span>
  <span class="s2">"bank"</span><span class="p">:</span> <span class="s2">"bni"</span><span class="p">,</span>
  <span class="s2">"approval_code"</span><span class="p">:</span> <span class="s2">"1566901334936"</span>
<span class="p">}</span>
</code></pre>

<p>Lihat <a href="https://api-docs.midtrans.com/#handing-notifications">disni untuk lebih lengkap dalam menangani HTTP Notification</a>.
<br /><br /></p>

<h2 id="mengubah-ke-production">Mengubah Ke Production</h2>

<p>Untuk menggunakan environment production (menerima pembayaran dari customer sesungguhnya), silahkan pastikan:</p>

<ol>
  <li>Ubah domain API URL dari <code>api.sandbox.midtrans.com</code> menjadi <code>api.midtrans.com</code></li>
  <li>Ubah Client Key dan Server Key dari Dashboard sandbox, dengan key dari Dashboard production.
<br /><br /></li>
</ol>

<h2 id="selesai">Selesai</h2>

<p>Integrasi pembayaran kartu sekarang selesai. Berikut beberapa referensi tambahan.
<br /><br /></p>

<h2 id="deskripsi">Deskripsi</h2>

<p>Nilai <code>transaction_status</code> dalam transaksi kartu:</p>

<table>
  <thead>
    <tr>
      <th>Status Transaksi</th>
      <th>Deskripsi</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>capture</code></td>
      <td>Transaksi sukses, dana berhasil dipotong</td>
    </tr>
    <tr>
      <td><code>pending</code></td>
      <td>Transaksi terbuat dan menunggu tindakan (3DS diselesaikan oleh customer)</td>
    </tr>
    <tr>
      <td><code>deny</code></td>
      <td>Transaksi ditolak, cek lebih lanjut <code>channel_response_message</code> atau <code>fraud_status</code></td>
    </tr>
    <tr>
      <td><code>expire</code></td>
      <td>Transaksi gagal karena customer tidak menyelesaikan 3DS dalam waktu tertentu</td>
    </tr>
  </tbody>
</table>

<p>Link: <a href="https://api-docs.midtrans.com/#transaction-status"><em>Definisi lebih detail transaction_status</em></a></p>

<p>Link: <a href="https://api-docs.midtrans.com/#fraud-status"><em>Definisi lebih detail fraud_status</em></a></p>

<h4 id="referensi">Referensi</h4>

<p>Anda juga bisa lihat contoh implementasi berikut:</p>

<ul>
  <li><a href="https://github.com/Midtrans/midtrans-nodejs-client/blob/master/examples/expressApp/views/simple_core_api_checkout.ejs">NodeJs - Express</a></li>
  <li><a href="https://github.com/Midtrans/midtrans-python-client/blob/master/examples/flask_app/templates/simple_core_api_checkout.html">Python - Flask</a></li>
</ul>

<p>Untuk lebih detail: <a href="https://api-docs.midtrans.com/">Dokumentasi lengkap Core API</a></p>


            <div class="pagination">
              <ul><li class="left">« Sebelumnya: <a href="../payment_link/index.html">Payment Link : Payment Link</a></li><li class="right">Selanjutnya: <a href="integration_gopay.html">Core API : Integrasi GoPay</a> »</li></ul>
            </div>
          </div>
        </div><!--/span-->
      </div><!--/row-->
    </div><!--/.container-->

    <!-- attempt force redirect to HTTPS -->
    <script type="text/javascript">
      if (window.location.hostname == 'docs.midtrans.com' && 
        window.location.protocol == "http:") {
        console.log("attempt to change protocol to https");
        window.location.protocol = "https:";
      }
    </script>

    <footer class="wrapper">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
        <div class="row">
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <ul class="list-unstyled footer-nav">
              <li><a href="https://midtrans.com/about">About Us</a></li>
              <li><a href="https://blog.midtrans.com" target="_blank">Blog</a></li>
              <li><a href="https://midtrans.com/campaigns">Campaigns</a></li>
              <li><a href="https://midtrans.com/careers">Careers</a></li>
              <li><a href="https://midtrans.com/clients">Clients</a></li>
              <li><a href="https://midtrans.com/contact">Contact</a></li>
              <li><a href="https://midtrans.com/developers">Developers</a></li>
              <li><a href="https://midtrans.com/security">Security</a></li>
            </ul>
          </div>
          <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
            <a href="https://midtrans.com/payments"><img src="../../images/midtrans/logo-midtrans-color.png" class="logo" alt="midtrans logo"/></a>
            <ul class="list-unstyled footer-nav">
              <li><a href="https://midtrans.com/payments/payment-channels/gopay">GO-PAY</a></li>
              <li><a href="https://midtrans.com/payments/manage">Merchant Administration Portal</a></li>
              <li><a href="https://midtrans.com/payments/payment-channels">Payment Channels</a></li>
              <li><a href="https://midtrans.com/payments/pricing">Pricing</a></li>
              <li><a href="https://docs.midtrans.com" target="_blank">Technical Documentation</a></li>
              <li><a href="https://support.midtrans.com" target="_blank">Frequently Asked Questions</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
        <div class="row">
          <div class="col-xs-6 col-sm-12 col-md-12 col-lg-12">
            <a href="https://midtrans.com/iris"><img src="../../images/midtrans/logo-iris.png" class="logo" alt="iris logo"/></a>
            <ul class="list-unstyled footer-nav">
              <li><a href="https://midtrans.com/iris">Features</a></li>
            </ul>
          </div>
          <div class="col-xs-6 col-sm-12 col-md-12 col-lg-12">
            <a href="https://midtrans.com/aegis"><img src="../../images/midtrans/logo-aegis.png" class="logo" alt="aegis logo"/></a>
            <ul class="list-unstyled footer-nav">
              <li><a href="https://midtrans.com/aegis/features">Features</a></li>
              <li><a href="https://midtrans.com/aegis/use-cases">Use Cases</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
        <h3>
          Berlangganan newsletter Midtrans
        </h3>
        <p>
          Dapatkan ide, informasi, dan tips menarik seputar eCommerce.
        </p>
        <form class="form-horizontal validate" id="subscriber-form" action="https://veritrans.us9.list-manage.com/subscribe/post-json?u=4ed5f88335112571098a4a51c&amp;id=12315939d2" method="get">
          <div class="input-field clearfix">
            <input type="email" value="" name="EMAIL" class="subscribe-input required email validate"
                   required="" placeholder="Email Anda">
            <button type="submit" class="btn btn-subscribe">→</button>
          </div>
          <div id="subscriber-result"></div>
        </form>
        <div class="social-media">
          <ul class="list-inline">
            <li><a href="https://www.facebook.com/Midtranscom/" target="_blank" rel="nofollow noopener noreferrer"><i class="fa fa-facebook"></i></a></li>
            <li><a href="https://twitter.com/midtrans_com" target="_blank" rel="nofollow noopener noreferrer"><i class="fa fa-twitter"></i></a></li>
            <li><a href="https://www.linkedin.com/company/midtrans" target="_blank" rel="nofollow noopener noreferrer"><i class="fa fa-linkedin"></i></a></li>
            <li><a href="https://www.instagram.com/midtrans_com/" target="_blank" rel="nofollow noopener noreferrer"><i class="fa fa-instagram"></i></a></li>
            <li><a href="https://www.youtube.com/midtrans_com" target="_blank" rel="nofollow noopener noreferrer"><i class="fa fa-youtube-play"></i></a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 credit">
        <ul class="list-inline credit-link">
          <li><a href="https://midtrans.com/press">Press</li>
          <li><a href="https://midtrans.com/privacy-policy">Privacy Policy</li>
          <li class="hide"><a href="https://midtrans.com/terms-conditions">Terms &amp; Conditions</a></li>
          <li class="copy">&copy;
            <script type="text/javascript">
              document.write(new Date().getFullYear());
            </script>
            Midtrans (PT Midtrans)
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer>

    <script src="../../javascripts/bootstrap.min.js" type="text/javascript"></script>
<script src="../../javascripts/dropdown.js" type="text/javascript"></script>
<script src="../../javascripts/tab_custom.js" type="text/javascript"></script>
<script src="../../javascripts/useragent.js" type="text/javascript"></script>
<script src="../../javascripts/mixpanel_tracking.js" type="text/javascript"></script>
    <script src="../../javascripts/search.js" async="true" type="text/javascript"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-85529823-1', 'auto');
      ga('send', 'pageview');

    </script>
    <script>
      $(document).ready(function() {
        $('[data-toggle=offcanvas]').click(function() {
          $('.row-offcanvas').toggleClass('active');
        });
        $(function () {
          $('[data-toggle="tooltip"]').tooltip();
        });
        
        $('body, .nav-overlay').bind('click', e => {
          if ($(e.target).closest('.nav-wrapper').length == 0) {
            // click happened outside of .navbar, so hide
            var opened = $('.nav-wrapper').hasClass('in');
            if (opened === true) {
              $('.nav-wrapper').collapse('hide');
            }
          }
          if ($(e.target).closest('.sub-nav-wrapper').length == 0) {
            // click happened outside of .navbar, so hide
            var opened = $('.sub-nav-wrapper').hasClass('in');
            if (opened === true) {
              $('.sub-nav-wrapper').collapse('hide');
            }
          }
        });

        /* PAGE OVERLAY ON NAV-TOGGLE OPEN */
        $('.nav-wrapper').on('show.bs.collapse', () => {
          $('.nav-overlay').addClass('active');
        });
        $('.nav-wrapper').on('hide.bs.collapse', () => {
          $('.nav-overlay').removeClass('active');
        });

        /* PAGE OVERLAY ON NAV-TOGGLE OPEN */
        $('.sub-nav-wrapper').on('show.bs.collapse', function () {
          $('.nav-overlay').addClass('active');
        });
        $('.sub-nav-wrapper').on('hide.bs.collapse', function () {
          $('.nav-overlay').removeClass('active');
        });
        mixpanel.track('id docs page viewed',{
          'url' : location.href
        });

        ajaxMailChimpForm($("#subscriber-form"), $("#subscriber-result"));

        // Turn the given MailChimp form into an ajax version of it.
        // If resultElement is given, the subscribe result is set as html to
        // that element.
        function ajaxMailChimpForm($form, $resultElement){

          // Hijack the submission. We'll submit the form manually.
          $form.submit(function(e) {
            e.preventDefault();

            if (!isValidEmail($form)) {
              var error =  "Email Anda tidak valid. Mohon memberikan email lain.";
              $resultElement.html(error);
            } else {
              $resultElement.html("Subscribing...");
              submitSubscribeForm($form, $resultElement);
            }
          });
        }
        
        // Validate the email address in the form
        function isValidEmail($form) {
          // If email is empty, show error message.
          // contains just one @
          var email = $form.find("input[type='email']").val();
          if (!email || !email.length) {
            return false;
          } else if (email.indexOf("@") == -1) {
            return false;
          }

          return true;
        }

        // Submit the form with an ajax/jsonp request.
        // Based on http://stackoverflow.com/a/15120409/215821
        function submitSubscribeForm($form, $resultElement) {
          $.ajax({
            type: "GET",
            url: $form.attr("action"),
            data: $form.serialize(),
            cache: false,
            dataType: "jsonp",
            jsonp: "c", // trigger MailChimp to return a JSONP response
            contentType: "application/json; charset=utf-8",

            error: function(error){
              // According to jquery docs, this is never called for cross-domain JSONP requests
            },

            success: function(data){
              if (data.result != "success") {
                var message = data.msg || "Maaf, sistem sedang error. Silahkan mencoba beberapa saat lagi.";


                if (data.msg && data.msg.indexOf("already subscribed") >= 0) {
                  message = "Anda sudah berlangganan newsletter kami.";

                }

                $resultElement.html(message);

              } else {
                $resultElement.html("Terima kasih telah berlangganan newsletter kami!");
              }
            }
          });
        }
      });
    </script>

    <script src="../../javascripts/bootstrap-notify.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      $.notify(
        {
          // options
          icon: 'glyphicon glyphicon-warning-sign',
          title: '',
          message: '<b>Dokumentasi Baru!</b><br> Kami sarankan dokumentasi baru kami yang ter-update, diperbagus, & lebih mudah dimengerti. Untuk membantu kamu menemukan yang kamu cari! <a href="https://beta-docs.midtrans.com">Klik notifikasi ini untuk melihatnya!</a>',
          url: 'https://beta-docs.midtrans.com',
          target: '_blank'
        },
        {
          type: 'danger',
          delay: 0,
          placement: 
            { from: "top", align: "right" },
          offset: 
            { x: 50, y: 70 }
        }
      );
    </script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  </body>
</html><!-- Veritrans.3.0-20150423 -->
